
<input type="hidden"  id="seeclickfix_url" value="{{ seeclickfix_url }}">

<script>
    // Fetch the JSON data from the API
    fetch('/api/data')
      .then(response => response.json())
      .then(data => {
        // Parse the JSON data and create an unordered list
        const items = data.items;
        const listContainer = document.querySelector('#list-container');
  
        items.forEach(item => {
          const listItem = document.createElement('li');
          listItem.innerText = `${item.name} - ${item.description}`;
          listContainer.appendChild(listItem);
        });
      })
      .catch(error => {
        console.error(error);
      });
  </script>

<div>

    <div class="card-body">
        <div style='justify-content:space-between'">
            <h4 class="card-title mb-1" style="font-size: 20px;">{{ hnum }} {{ hadd }} </h4>
        </div>
        <div style='display:flex;justify-content:space-between'">
            <p class="mb-1" style="font-size: 14px;">
                Block: {{ block }}
            </p>
            <p class="mb-1" style="font-size: 14px;">
                Lot: {{ lot }}
            </p>
        </div>
        <div style='justify-content:space-between'">
            <p class="mb-1" style="font-size: 14px;"> View in <a target="new" href="{{ streetview_url }}">Google Streetview</a></p>
        </div>
        <div style='justify-content:space-between'">
            <p class="mb-1" style="font-size: 14px;"> Search for filings in <a target="new" href="{{ jcportal_url }}">JC Open Data</a></p>
        </div>
        <!--TODO replace with table generated by Javascript
            <div style='justify-content:space-between'">
                <p class="mb-1" style="font-size: 14px;"> Search for complaints in <a target="new" href="{{ seeclickfix_url }}">SeeClickFix</a></p>
            </div>
        -->
        <!-- BUG the script doesnt even seem to run-->
        <div style='justify-content:space-between'">
            <p class="mb-1" style="font-size: 14px;"> 
                <ul id="list-container"></ul>
            </p>
        </div>
        
        <!-- 
            <div style='justify-content:space-between'"> 
                <p class="mb-4" style="font-size: 10px;">
                        Source: JC City Open Data: <a href="https://data.jerseycitynj.gov/explore/dataset/jersey-city-parcels/information/">Parcels (2019)</a> 
                </p>           
            </div>
        -->

    </div>

</div>  
